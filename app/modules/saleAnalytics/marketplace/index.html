<ng-include
  src="'app/modules/saleAnalytics/header.html?v='+cacheBuster"
  ng-show="i18nextLanguageReady===true"
></ng-include>

<div
  class="marketplace-container m-t-20"
  ng-show="i18nextLanguageReady===true"
  >

  <!-- Header -->
  <div class="row">

    <!-- Header - dropdown -->
    <div class="col-md-2">
      <div class="dropdown">
        <button
          class="btn btn-default dropdown-toggle"
          type="button"
          data-toggle="dropdown"
          style="width:100%"
        >
          {{ data.selectedFilter.name }}
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu">
          <li ng-repeat="filter in data.filters">
            <a ng-click="fn.filterWidgetsByCategory(filter)">
              {{ filter.name }}
            </a>
          </li>
        </ul>
      </div>
    </div>

    <!-- Header - search box -->
    <div class="col-md-4">
      <div class="search-box input-group">
        <input type="text" class="form-control">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button">
            <i class="fa ic-search"></i>
          </button>
        </span>
      </div>
    </div>

  </div>
  <!-- End Header -->


  <!-- Widget list -->
  <div class="row marketplace-widget-list">

    <!-- row -->
    <div class="col-xs-12 m-t-10 marketplace-widget-list-row"
      ng-repeat="widget in data.widgets"
      ng-class="{ active: data.selectedWidget === widget }"
      ng-click="fn.selectWidget(widget)">

      <div class="col-xs-12 marketplace-widget-list-row-overview">
        <div class="col-xs-3"
          style="height: 120px;background-size: contain;background-repeat: no-repeat;"
          ng-style="{'background-image': 'url('+ widget.thumbnail +')'}">
        </div>
        <div class="col-xs-9">
          <h3>{{ widget.name }} <span class="label label-default">{{ widget.category }}</span></h3>
          <span>{{ widget.description }}</span>
        </div>
      </div>

      <div class="col-xs-12 marketplace-widget-list-row-detail">
        <button
          type="button"
          class="close"
          data-dismiss="alert"
          ng-click="fn.unselectCurrentWidget()"
        >
          <span>&times;</span>
        </button>
        <h2>Detail</h2>
      </div>

    </div>

  </div><!-- End Widget list -->

</div><!-- End marketplace-container -->


<!-- Loading spinner -->
<div class="panel-loader" ng-show="!i18nextLanguageReady">
    <span class="spinner-small"></span>
</div>
