<div ng-controller="TableWidgetController" ng-init="fn.assignWidget(widget)">
    <div class="btn-group m-r-5 m-b-5  pull-right">
        <a data-toggle="dropdown"
           class="btn btn-default btn-sm dropdown-toggle">
            {{'TableWidget.AddColumns' | i18next}}
            <span class="caret"></span></a>
        <ul class="dropdown-menu pull-right ">
            <li class="text-link">
                <a ng-click="fn.restoreColumnDisplay()"
                   class="btn-link">
                    {{'TableWidget.RestoreDefault' | i18next}}
                </a>
            </li>
            <li class="divider"></li>


            <li ng-repeat="column in columns">
                <input type="checkbox"
                       class="pull-left m-t-10 m-r-10 "
                       ng-checked="column.isShown"
                       ng-click="fn.toggleColumn(column.name, $event)">

                <div class="media-body"
                     ng-click="fn.toggleColumn(column.name, $event)">
                    <p>{{column.name}}</p>
                </div>
            </li>
        </ul>
    </div>

    <!-- dropdown-->


    <div class="table-responsive m-t-20">
        <table class="table table-striped  table-picture-40">
            <thead>
            <tr>
                <th>#</th>
                <th ng-repeat="column in columns" ng-if="column.isShown">
                    {{column.name}}
                </th>
            </tr>
            </thead>
            <tbody>
            <tr class="gradeX" ng-repeat="row in dataSource">
                <td><p class="m-t-10 ">{{$index+1}}</td>
                <!--<td>-->
                <!--<div class="pull-left img-user m-b-10">-->
                <!--<img src="assets/img/user-2.jpg" class="media-object" alt="">-->
                <!--</div>-->
                <!--<div class="pull-left  m-t-10 m-l-10">-->
                <!--<a href="">Pedro Lorem ipsum</a>-->
                <!--</div>-->
                <!--</td>-->
                <td ng-repeat="column in row">
                    <div ng-if="fn.isImage(column)">
                        <img src="{{column}}" class="media-object" alt=""/>
                    </div>
                    <p class="m-t-10" ng-if="!fn.isImage(column)">{{column}}</p>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>